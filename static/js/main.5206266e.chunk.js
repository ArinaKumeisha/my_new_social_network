(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{143:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"max length with ".concat(e," symbols")}}},146:function(e,t,n){e.exports={header:"Header_header__3R7w-",loginBlock:"Header_loginBlock__30zcL"}},150:function(e,t,n){e.exports={item:"post_item__1NA5u",message:"post_message__3PuBy"}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return v}));var r,a=n(23),s=n.n(a),o=n(35),c=n(13),i=n(9),u=n(39);!function(e){e.ADD_POST="PROFILE/ADD-POST",e.SET_STATUS="PROFILE/SET_STATUS",e.DELETE_POST="PROFILE/DELETE-POST",e.SET_USER_PROFILE_SUCCESS="PROFILE/SET_USER_PROFILE_SUCCESS",e.SEND_MESSAGE="DIALOGS/SEND-MESSAGE",e.FOLLOW_SUCCES="USERS/FOLLOW_SUCCES",e.UN_FOLLOW_SUCCESS="USERS/UN_FOLLOW_SUCCESS",e.SET_USERS="USERS/SET_USERS",e.SET_CURRENT_PAGE="USERS/SET_CURRENT_PAGE",e.SET_TOTAL_USER_COUNT="USERS/SET-TOTAL_USER_COUNT",e.TOGGLE_IS_FETCHING="USERS/TOGGLE-IS-FETCHING",e.TOGGLE_IS_FOLLOWING_PROGRESS="USERS/TOGGLE-IS_FOLLOWING-PROGRESS",e.SET_FILTER="USERS-SET-FILTER",e.GET_USER_DATA_SUCCESS="AUTH/ACTION_TYPE.GET_USER_DATA_SUCCESS",e.INITIALIZED_SUCCESS="APP/INITIALIZED-SUCCESS",e.SAVE_PHOTO="PROFILE/SAVE-PHOTO",e.SET_ERROR="PROFILE/SET-ERROR",e.GET_CAPTCHA="AUTH/GET-CAPTCHA",e.PROFILE_SET_ERROR="AUTH/SET-ERROR"}(r||(r={}));var l={profile:null,status:"",newPostText:"",posts:[{id:2,message:"Hello, how are you?",likeCount:15,img:"https://www.fotoprizer.ru/img_inf/st_221.jpg"},{id:1,message:"It's my first post",likeCount:18,img:"https://www.fotoprizer.ru/img_inf/st_221.jpg"}],error:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD_POST:var n={id:(new Date).getTime(),message:t.newMessagePost,likeCount:0,img:"https://www.fotoprizer.ru/img_inf/st_221.jpg"};return Object(i.a)(Object(i.a)({},e),{},{posts:[n].concat(Object(c.a)(e.posts))});case r.DELETE_POST:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case r.SET_STATUS:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case r.SET_USER_PROFILE_SUCCESS:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case r.SAVE_PHOTO:return e.profile?Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})}):Object(i.a)({},e);case r.SET_ERROR:return Object(i.a)(Object(i.a)({},e),{},{error:t.error});default:return e}},j=function(e){return{type:r.ADD_POST,newMessagePost:e}},p=function(e){return{type:r.DELETE_POST,postId:e}},f=function(e){return{type:r.SET_STATUS,status:e}},b=function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.getStatus(e);case 3:r=t.sent,n(f(r.data)),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),Error;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return{type:r.SAVE_PHOTO,photos:e}},h=function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.getUserProfile(e);case 3:a=t.sent,n((s=a.data,{type:r.SET_USER_PROFILE_SUCCESS,profile:s})),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),Error;case 10:case"end":return t.stop()}var s}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(f(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.savePhoto(e);case 3:0===(r=t.sent).data.resultCode&&n(O(r.data.data.photos)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(s.a.mark((function t(n,a){var o,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a().auth.id,t.prev=1,t.next=4,u.b.saveProfile(e);case 4:0===(c=t.sent).data.resultCode?n(h(o)):n((s=c.data.messages[0],{type:r.SET_ERROR,error:s})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.message);case 11:case"end":return t.stop()}var s}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()}},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=(n(0),n(57)),s=n.n(a),o=n(1),c=function(e){var t=e.input,n=e.meta,a=n.touched&&n.error;return Object(o.jsx)("div",{className:s.a.container,children:Object(o.jsxs)("div",{className:s.a.formControl+" "+(a?s.a.error:""),children:[Object(o.jsx)("textarea",Object(r.a)(Object(r.a)({},t),e)),a&&Object(o.jsx)("span",{className:"".concat(s.a.formControl," ").concat(s.a.error),children:n.error})]})})}},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(209),s=(n(0),n(25)),o=n(22),c=n(1),i=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(s.b)(u)((function(t){t.isAuth;var n=Object(a.a)(t,i);return t.isAuth?Object(c.jsx)(e,Object(r.a)({},n)):Object(c.jsx)(o.a,{to:"login"})}))}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(13),a=n(9),s=n(17),o={dialogs:[{id:1,name:"Marina",img:"https://video-pricheski.ru/photo/img/foto-devushek-s-korotkoi-strizhkoi-dlia-avy-3.jpg"},{id:2,name:"Alina",img:"https://bipbap.ru/wp-content/uploads/2017/05/370.jpg"},{id:3,name:"Alex",img:"https://prikolnye-kartinki.ru/img/picture/Aug/23/f0b9e5a7d4b40ce999e2ba9b4e4d1b39/2.jpg"},{id:4,name:"Viktor",img:"https://87.img.avito.st/640x480/8817015087.jpg"},{id:6,name:"Anna",img:"https://i.pinimg.com/originals/b2/95/45/b29545916fbf406f7cec10ff1845a191.jpg"}],messages:[{id:1,message:"How are you?"},{id:2,message:"Hello"},{id:3,message:"Yo"}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if(t.type===s.a.SEND_MESSAGE){var n={id:(new Date).getTime(),message:t.newMessageBody};return Object(a.a)(Object(a.a)({},e),{},{messages:[n].concat(Object(r.a)(e.messages))})}return e},i=function(e){return{type:s.a.SEND_MESSAGE,newMessageBody:e}}},200:function(e,t,n){e.exports={info:"ProfileData_info__1Zk26",error:"ProfileData_error__2FDlO"}},204:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__KDQqq",posts:"MyPosts_posts__2CrWm"}},225:function(e,t,n){},226:function(e,t,n){},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return j})),n.d(t,"i",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n(208),a=function(e){return e.dialogsPage},s=function(e){return e.auth.isAuth},o=function(e){return e.auth.login},c=function(e){return e.profilePage.profile},i=function(e){return e.profilePage.status},u=function(e){return e.auth.id},l=function(e){return e.profilePage.posts},d=function(e){return e.usersPage.users},j=function(e){return e.usersPage.filter},p=function(e){return e.usersPage.pageSize},f=function(e){return e.usersPage.totalUsersCount},b=function(e){return e.usersPage.currentPage},O=function(e){return e.usersPage.isFetching},h=function(e){return e.usersPage.followingInProgress},m=(Object(r.a)(d,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.profilePage.error})},370:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(60),o=n.n(s),c=(n(225),n(20)),i=n(21),u=n(28),l=n(29),d=(n(226),n(36)),j=n(42),p=n.n(j),f=n(1),b=function(){return Object(f.jsxs)("nav",{className:p.a.nav,children:[Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/profile",activeClassName:p.a.activeLink,children:"Profile"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/dialogs",activeClassName:p.a.activeLink,children:"Messages"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/new",activeClassName:p.a.activeLink,children:"New"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/music",activeClassName:p.a.activeLink,children:"Music"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/settings",activeClassName:p.a.activeLink,children:"Settings"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/friends",activeClassName:p.a.activeLink,children:"Friends"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/users",activeClassName:p.a.activeLink,children:"Users"})})]})},O=function(){return Object(f.jsx)("div",{children:"Music"})},h=function(){return Object(f.jsx)("div",{children:"Settings"})},m=n(9),g=n(146),v=n.n(g),x=function(e){return Object(f.jsxs)("header",{className:v.a.header,children:[Object(f.jsx)("img",{src:"https://i1.7fon.org/thumb/z134398.jpg",alt:"label"}),Object(f.jsx)("div",{className:v.a.loginBlock,children:e.isAuth?Object(f.jsxs)("div",{children:[e.login," - ",Object(f.jsx)("button",{onClick:e.logOut,children:"Log out"})]}):Object(f.jsx)(d.b,{to:"./login",children:"Login"})})]})},S=n(23),_=n.n(S),E=n(35),P=n(17),w=n(39),C={id:"",email:null,login:null,isAuth:!1,messageError:null,captchaUrl:null},T=function(e,t,n,r){return{type:P.a.GET_USER_DATA_SUCCESS,payload:{id:e,email:t,login:n,isAuth:r}}},y=function(e){return{type:P.a.PROFILE_SET_ERROR,payload:{messageError:e}}},N=function(){return function(){var e=Object(E.a)(_.a.mark((function e(t){var n,r,a,s,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,s=r.email,o=r.login,t(T(a,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(E.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.c.getCaptcha();case 2:n=e.sent,t((r=n.data.url,{type:P.a.GET_CAPTCHA,payload:{captchaUrl:r}})),console.log(n.data.url);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},A=n(32),F=n(25),I=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(f.jsx)(x,Object(m.a)(Object(m.a)({},this.props),{},{isAuth:this.props.isAuth,login:this.props.login}))}}]),n}(a.a.Component),U=Object(F.b)((function(e){return{isAuth:Object(A.f)(e),login:Object(A.h)(e)}}),{logOut:function(){return function(){var e=Object(E.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.logOut();case 3:0===e.sent.data.resultCode&&t(T("",null,null,!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}}),R=U(I),L=n(13),D={users:[],pageSize:10,totalUsersCount:20,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},G=function(e){return{type:P.a.FOLLOW_SUCCES,userID:e}},M=function(e){return{type:P.a.UN_FOLLOW_SUCCESS,userID:e}},z=function(e){return{type:P.a.SET_CURRENT_PAGE,currentPage:e}},H=function(e){return{type:P.a.TOGGLE_IS_FETCHING,isFetching:e}},B=function(e,t){return{type:P.a.TOGGLE_IS_FOLLOWING_PROGRESS,isFetching:e,userId:t}},q=function(e){return{type:P.a.SET_FILTER,filter:e}},W=function(){var e=Object(E.a)(_.a.mark((function e(t,n,r,a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(B(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),J=n.p+"static/media/prelo.d7190a4c.webp",V=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:J,style:{width:"300px"},alt:"preloader"})})},Z=n(27),K=n(65),Y=n.n(K),Q=n(206),X={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},$=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.onPageHandler,a=e.pageSize;return Object(f.jsx)("div",{className:"pagination",children:Object(f.jsx)(Q.a,{className:"ant-pagination",showTitle:!0,defaultCurrent:t,total:n,onChange:function(e){return r(e)},defaultPageSize:a,pageSize:a,locale:X})})},ee=n.p+"static/media/avatar.7bdf7b93.png",te=n(72),ne=n.n(te),re=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unFollow;return Object(f.jsx)("div",{className:Y.a.user,children:Object(f.jsxs)("div",{className:Y.a.common,children:[Object(f.jsx)(d.b,{className:Y.a.photo,to:"./profile/"+t.id,children:Object(f.jsx)("img",{src:t.photos.small?t.photos.small:ee,alt:"photos"})}),Object(f.jsxs)("div",{className:Y.a.followAndDescription,children:[Object(f.jsxs)("div",{className:Y.a.left,children:[t.followed?Object(f.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},className:ne.a.commonBtn,children:"UnFollow"}):Object(f.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},className:ne.a.commonBtn,children:"Follow"}),Object(f.jsx)("div",{children:t.name}),Object(f.jsx)("div",{children:t.status})]}),Object(f.jsx)("div",{className:Y.a.right})]})]})},t.id)},ae=n(45),se=function(e){return{}},oe=a.a.memo((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ae.c,{initialValues:{term:"",friend:null},validate:se,onSubmit:function(t,n){var r=n.setSubmitting;e.onFilterChanged(t),r(!1)},children:function(e){var t=e.isSubmitting;return Object(f.jsxs)(ae.b,{children:[Object(f.jsx)(ae.a,{type:"text",name:"term"}),Object(f.jsxs)(ae.a,{name:"friend",as:"select",children:[Object(f.jsx)("option",{value:"null",children:"All"}),Object(f.jsx)("option",{value:"true",children:"Only followed"}),Object(f.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(f.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),ce=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(oe,{onFilterChanged:e.onFilterChanged}),Object(f.jsx)($,{onPageHandler:e.onPageHandler,pageSize:e.pageSize,totalUsersCount:e.totalUsersCount,currentPage:e.currentPage}),Object(f.jsx)("div",{className:Y.a.users,children:e.users.map((function(t){return Object(f.jsx)(re,{user:t,follow:e.follow,unFollow:e.unFollow,followingInProgress:e.followingInProgress},t.id)}))})]})},ie=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageHandler=function(t){var n=e.props,r=n.pageSize,a=n.filter;e.props.requestUsers(t,r,a)},e.onFilterChanged=function(t){var n=e.props.pageSize;e.props.requestUsers(1,n,t)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize,r=e.filter;this.props.requestUsers(t,n,r)}},{key:"render",value:function(){var e=this.props.isFetching;return Object(f.jsxs)(f.Fragment,{children:["    ",e?Object(f.jsx)(V,{}):"",Object(f.jsx)(ce,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,unFollow:this.props.unFollow,follow:this.props.follow,users:this.props.users,onPageHandler:this.onPageHandler,followingInProgress:this.props.followingInProgress,onFilterChanged:this.onFilterChanged})]})}}]),n}(a.a.Component),ue=Object(Z.d)(Object(F.b)((function(e){return{users:Object(A.n)(e),pageSize:Object(A.i)(e),totalUsersCount:Object(A.m)(e),currentPage:Object(A.a)(e),isFetching:Object(A.g)(e),followingInProgress:Object(A.d)(e),filter:Object(A.o)(e)}}),{follow:function(e){return function(){var t=Object(E.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,w.d.follow.bind(w.d),G);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(E.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,w.d.unFollow.bind(w.d),M);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:z,toggleIsFollowingProgress:B,requestUsers:function(e,t,n){return function(){var r=Object(E.a)(_.a.mark((function r(a){var s;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(z(e)),a(H(!0)),a(q(n)),r.next=5,w.d.getUsers(e,t,n.term,n.friend);case 5:s=r.sent,a(H(!1)),a((c=s.items,{type:P.a.SET_USERS,users:c})),a((o=s.totalCount,{type:P.a.SET_TOTAL_USER_COUNT,count:o}));case 9:case"end":return r.stop()}var o,c}),r)})));return function(e){return r.apply(this,arguments)}}()}}))(ie),le=n(410),de=n(409),je={messageForState:[{id:1,message:"hello"},{id:2,message:"hi"}]},pe=Object(de.a)({form:"newForm"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)(le.a,{component:"input",name:"inputform"}),Object(f.jsx)("button",{children:"Add New"})]})})),fe=function(){var e=Object(F.c)(),t=Object(F.d)((function(e){return e.new.messageForState}));return Object(f.jsxs)("div",{children:[t.map((function(e){return Object(f.jsx)("div",{children:e.message},e.id)})),Object(f.jsx)(pe,{onSubmit:function(t){e({type:"ADD_MESSAGE",messageForm:t.inputform})}})]})},be={inicialized:!1},Oe=n(22);function he(e){return function(t){return Object(f.jsx)(a.a.Suspense,{fallback:Object(f.jsx)(V,{}),children:Object(f.jsx)(e,Object(m.a)({},t))})}}var me=n(417),ge=n(412),ve=n(413),xe=n(414),Se=n(419),_e=n(405),Ee=n(408),Pe=n(418),we=function(e){var t={};return e.password?e.password.length>15?t.password="Must be 15 characters or less":e.password.length<7&&(t.password="Must be 7 characters or less"):t.password="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},Ce=function(){var e=Object(F.c)(),t=Object(F.d)((function(e){return e.auth.isAuth})),n=Object(F.d)((function(e){return e.auth.captchaUrl})),r=Object(F.d)((function(e){return e.auth.messageError})),a=Object(ae.d)({initialValues:{email:"",password:"",rememberMe:!1,captcha:""},validate:we,onSubmit:function(t){e(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var a=Object(E.a)(_.a.mark((function a(s){var o,c;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.login(e,t,n,r);case 2:0===(o=a.sent).data.resultCode?s(N()):(10===o.data.resultCode&&s(k()),c=o.data.messages.length>0?o.data.messages[0]:"Some error",s(y(c)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t.email,t.password,t.rememberMe,t.captcha)),a.resetForm(),console.log(t)}});return t?Object(f.jsx)(Oe.a,{to:"/profile"}):Object(f.jsx)(me.a,{container:!0,justifyContent:"center",children:Object(f.jsx)(me.a,{item:!0,justifyContent:"center",children:Object(f.jsx)("form",{onSubmit:a.handleSubmit,children:Object(f.jsxs)(ve.a,{children:[Object(f.jsx)(_e.a,{children:Object(f.jsx)("a",{href:"https://social-network.samuraijs.com/"})}),Object(f.jsxs)(Se.a,{children:[Object(f.jsx)(Ee.a,Object(m.a)({id:"email",type:"email"},a.getFieldProps("email"))),a.touched.email&&a.errors.email?Object(f.jsx)("div",{style:{color:"red"},children:a.errors.email}):null,Object(f.jsx)(Ee.a,Object(m.a)({id:"password",type:"password"},a.getFieldProps("password"))),a.touched.password&&a.errors.password?Object(f.jsx)("div",{style:{color:"red"},children:a.errors.password}):null,Object(f.jsx)(xe.a,{label:"Remember me",control:Object(f.jsx)(ge.a,{}),name:"rememberMe",onChange:a.handleChange,checked:a.values.rememberMe}),n&&Object(f.jsx)("img",{src:n}),n&&Object(f.jsx)(Ee.a,Object(m.a)({id:"captcha",type:"captcha"},a.getFieldProps("captcha"))),null!==r&&Object(f.jsx)("div",{style:{color:"red"},children:r}),Object(f.jsx)(Pe.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})},Te=n(16),ye=n(73),Ne=n.n(ye),ke=function(e){var t=Object(r.useState)(!1),n=Object(Te.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(e.status),c=Object(Te.a)(o,2),i=c[0],u=c[1];return Object(r.useEffect)((function(){u(e.status)}),[e.status]),Object(f.jsx)(f.Fragment,{children:a?Object(f.jsx)("div",{children:Object(f.jsx)("input",{value:i,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){s(!1),e.updateStatus(i)},autoFocus:!0})}):Object(f.jsx)("div",{children:Object(f.jsxs)("h4",{onDoubleClick:function(){s(!0)},style:{color:"white"},children:["Status: ",e.status||"-----"]})})})},Ae=n.p+"static/media/city.68b57ad7.jpg",Fe=n(200),Ie=n.n(Fe),Ue=function(e){return Object(f.jsx)("div",{className:Ne.a.information,children:Object(f.jsx)("div",{children:Object(f.jsxs)("b",{children:[" ",e.contactTitle,":",e.contactValue?Object(f.jsx)("span",{children:e.contactValue}):Object(f.jsx)("i",{children:"no information"})]})})})},Re=function(e){var t=e.profile,n=e.activateEditeMode,r=e.isOwner,a=t.contacts;return Object(f.jsxs)("div",{className:Ie.a.info,children:[r&&Object(f.jsx)("button",{onClick:n,className:ne.a.commonBtn,children:"Change data"}),Object(f.jsx)("h3",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),Object(f.jsxs)("h4",{children:["FullName:",t.fullName?Object(f.jsx)("b",{children:t.fullName}):Object(f.jsx)("i",{children:" no information "})]}),Object(f.jsxs)("h4",{children:["Looking for a job:",t.lookingForAJob?Object(f.jsx)("b",{children:"Yes"}):Object(f.jsx)("b",{children:"No"})]}),Object(f.jsxs)("h4",{children:["My professional skills:",t.lookingForAJobDescription?Object(f.jsxs)("b",{children:[" ",t.lookingForAJobDescription," "]}):Object(f.jsx)("div",{children:Object(f.jsx)("i",{children:" no information"})})]}),Object(f.jsxs)("h4",{children:["About Me: ",t.aboutMe?Object(f.jsx)("b",{children:t.aboutMe}):Object(f.jsx)("div",{children:Object(f.jsx)("i",{children:" no information"})})," "]}),Object(f.jsx)("h3",{children:"Contacts:"}),Object.keys(a).map((function(e){return Object(f.jsx)(Ue,{contactTitle:e,contactValue:a[e]},e)}))]})},Le=n(103),De=function(e){var t=function(){var t=Object(E.a)(_.a.mark((function t(n,r){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.setSubmitting,t.next=3,e.saveProfile(n);case 3:null!==e.error&&e.activateEditeMode(!0),a(!0),e.activateEditeMode(!1);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n=Le.a().shape({fullName:Le.b().min(2,"To short").max(50,"Too Long!").required("Required, enter correct value"),lookingForAJobDescription:Le.b().min(2,"To short").max(50,"Too Long!").required("Required, enter correct value"),aboutMe:Le.b().min(2,"To short").max(50,"Too Long!")}),r=e.profile.contacts;return Object(f.jsx)("div",{children:Object(f.jsx)(ae.c,{initialValues:{fullName:"",lookingForAJobDescription:"",lookingForAJob:!1,aboutMe:"",userId:e.userId,contacts:{facebook:"",youtube:"",website:"",vk:"",twitter:"",mainLink:"",instagram:"",github:""},photos:{small:"",large:""}},onSubmit:t,validationSchema:n,children:function(t){var n=t.errors,a=t.touched,s=t.isSubmitting;return Object(f.jsxs)(ae.b,{children:[Object(f.jsx)("div",{className:ne.a.error,children:e.error}),Object(f.jsx)(ae.a,{type:"text",name:"fullName",placeholder:"Full Name"}),n.fullName&&a.fullName?Object(f.jsx)("div",{children:n.fullName}):null,Object(f.jsx)(ae.a,{type:"text",name:"lookingForAJobDescription",placeholder:"My professional skills"}),n.lookingForAJobDescription&&a.lookingForAJobDescription?Object(f.jsx)("div",{children:n.lookingForAJobDescription}):null,Object(f.jsxs)("div",{className:ne.a.checkBox,children:[" Looking for a job?",Object(f.jsx)(ae.a,{type:"checkbox",name:"lookingForAJob"})]}),Object(f.jsx)(ae.a,{type:"text",name:"aboutMe",placeholder:"aboutMe"}),n.aboutMe&&a.aboutMe?Object(f.jsx)("div",{children:n.aboutMe}):null,Object.keys(r).map((function(e){return Object(f.jsx)(ae.a,{type:"text",name:"contacts.".concat(e),placeholder:"".concat(e)},e)})),Object(f.jsx)("button",{type:"submit",disabled:s,children:"Submit"})]})}})})},Ge=function(e){var t=e.profile,n=e.status,a=e.updateStatus,s=e.isOwner,o=e.savePhoto,c=e.userId,i=e.saveProfile,u=e.error,l=Object(r.useState)(!1),d=Object(Te.a)(l,2),j=d[0],p=d[1];if(!t)return Object(f.jsx)(V,{});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:Ae,className:Ne.a.item,alt:"phone"}),Object(f.jsxs)("div",{className:Ne.a.block,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:t.photos.large||ee,className:Ne.a.photo,alt:"photos"}),s&&Object(f.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])},className:Ne.a.style}),Object(f.jsx)(ke,{status:n,updateStatus:a})]}),Object(f.jsx)("div",{className:Ne.a.description,children:j?Object(f.jsx)(De,{profile:t,isOwner:s,userId:c,saveProfile:i,error:u,activateEditeMode:function(){return p(!1)}}):Object(f.jsx)(Re,{profile:t,isOwner:s,activateEditeMode:function(){return p(!0)}})})]})]})},Me=n(204),ze=n.n(Me),He=n(150),Be=n.n(He),qe=function(e){return Object(f.jsxs)("div",{className:Be.a.item,children:[Object(f.jsx)("p",{className:Be.a.message,children:e.message}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"like "}),e.likeCount,Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:e.img,alt:"friend"})})]})]})},We=n(143),Je=n(189),Ve=Object(We.a)(10),Ze=a.a.memo((function(e){var t=e.posts.map((function(e){return Object(f.jsx)(qe,{id:e.id,message:e.message,likeCount:e.likeCount,img:e.img},e.id)}));return Object(f.jsxs)("div",{className:ze.a.postBlock,children:[Object(f.jsx)("hr",{}),t,Object(f.jsx)("hr",{}),Object(f.jsx)("h3",{children:"My post"}),Object(f.jsx)(Ke,{onSubmit:function(t){e.addPost(t.newPost)}})]})})),Ke=Object(de.a)({form:"contact"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)(le.a,{name:"newPost",component:Je.a,placeholder:"enter your message",type:"text",validate:[We.b,Ve]}),Object(f.jsx)("button",{children:"Add post"})]})})),Ye=Ze,Qe=Object(F.b)((function(e){return{posts:Object(A.j)(e)}}),(function(e){return{addPost:function(t){e(Object(P.b)(t))},deletePost:function(t){e(Object(P.c)(t))}}}))(Ye),Xe=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(Ge,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,userId:e.userId,saveProfile:e.saveProfile,error:e.error}),Object(f.jsx)(Qe,{})]})},$e=n(190),et=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id)||this.props.history.push("/login"),this.props.setUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(Xe,Object(m.a)(Object(m.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,userId:this.props.id,saveProfile:this.props.saveProfile,error:this.props.error}))}}]),n}(a.a.Component),tt=Object(Z.d)(Object(F.b)((function(e){return{profile:Object(A.k)(e),status:Object(A.l)(e),isAuth:Object(A.f)(e),id:Object(A.e)(e),error:Object(A.c)(e)}}),{setUserProfile:P.h,getUserStatus:P.d,updateStatus:P.i,savePhoto:P.f,saveProfile:P.g}),Oe.g,$e.a)(et),nt=a.a.lazy((function(){return n.e(3).then(n.bind(null,421))})),rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.inicializedApp()}},{key:"render",value:function(){return this.props.inicialized?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(R,{}),Object(f.jsx)(b,{}),Object(f.jsx)("div",{className:"app-wrapper-content",children:Object(f.jsxs)(Oe.d,{children:[Object(f.jsx)(Oe.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(tt,{})}}),Object(f.jsx)(Oe.b,{path:"/profile/:userId?",render:he(tt)}),Object(f.jsx)(Oe.b,{path:"/dialogs",render:he(nt)}),Object(f.jsx)(Oe.b,{path:"/users",render:function(){return Object(f.jsx)(ue,{})}}),Object(f.jsx)(Oe.b,{path:"/new",render:function(){return Object(f.jsx)(fe,{})}}),Object(f.jsx)(Oe.b,{path:"/music",component:O}),Object(f.jsx)(Oe.b,{path:"/settings",component:h}),Object(f.jsx)(Oe.b,{path:"/friends",render:function(){return Object(f.jsx)("div",{children:"Friends"})}}),Object(f.jsx)(Oe.b,{path:"/login",component:Ce}),Object(f.jsx)(Oe.b,{path:"*",render:function(){return Object(f.jsx)("h2",{style:{color:"red"},children:"404 PAGE NOT FOUND"})}})]})})]}):Object(f.jsx)(V,{})}}]),n}(a.a.Component),at=Object(F.b)((function(e){return{inicialized:e.app.inicialized}}),{inicializedApp:function(){return function(e){e(N()).then((function(){e({type:P.a.INITIALIZED_SUCCESS})}))}}})(rt),st=n(191),ot=n(205),ct=n(416),it=Object(Z.c)({profilePage:P.e,dialogsPage:st.a,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.a.FOLLOW_SUCCES:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(m.a)(Object(m.a)({},e),{},{followed:!0}):e}))});case P.a.UN_FOLLOW_SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(m.a)(Object(m.a)({},e),{},{followed:!1}):e}))});case P.a.SET_USERS:return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case P.a.SET_CURRENT_PAGE:return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case P.a.SET_TOTAL_USER_COUNT:return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.count});case P.a.TOGGLE_IS_FETCHING:return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case P.a.TOGGLE_IS_FOLLOWING_PROGRESS:return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(L.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case P.a.SET_FILTER:return Object(m.a)(Object(m.a)({},e),{},{filter:t.filter});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.a.GET_USER_DATA_SUCCESS:case P.a.GET_CAPTCHA:case P.a.PROFILE_SET_ERROR:return Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},form:ct.a,new:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;if("ADD_MESSAGE"===t.type){var n={id:(new Date).getTime(),message:t.messageForm};return Object(m.a)(Object(m.a)({},e),{},{messageForState:[n].concat(Object(L.a)(e.messageForState))})}return e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;return t.type===P.a.INITIALIZED_SUCCESS?Object(m.a)(Object(m.a)({},e),{},{inicialized:!0}):e}}),ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,lt=Object(Z.e)(it,ut(Object(Z.a)(ot.a)));window.store=lt,console.log(a.a.version),o.a.render(Object(f.jsx)(d.a,{children:Object(f.jsx)(F.a,{store:lt,children:Object(f.jsx)(at,{})})}),document.getElementById("root"))},39:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i}));var r=n(193),a=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f499194a-9fc7-4a05-a45f-a1732e1abd57"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null!==r?"&friend=".concat(r):"")).then((function(e){return e.data}))},follow:function(e){return a.post("follow/"+e,{},{})},unFollow:function(e){return a.delete("follow/"+e,{})}},o={me:function(){return a.get("auth/me",{})},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logOut:function(){return a.delete("auth/login",{})}},c={getUserProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile",e)}},i={getCaptcha:function(){return a.get("security/get-captcha-url")}}},42:function(e,t,n){e.exports={nav:"Navbar_nav__3K0cN",item:"Navbar_item__1jhJx",activeLink:"Navbar_activeLink__3vpt0",post:"Navbar_post___jI8L",active:"Navbar_active__2IHiz"}},57:function(e,t,n){e.exports={container:"FormsControls_container__dDYNt",formControl:"FormsControls_formControl__10mJD",error:"FormsControls_error__3qrXj",commonsError:"FormsControls_commonsError__DK9Qs"}},65:function(e,t,n){e.exports={users:"user_users__2App8",common:"user_common__2UQBs",photo:"user_photo__4u11O",left:"user_left__1WqlW",right:"user_right__3Ez0v",followAndDescription:"user_followAndDescription__3N32K",selected:"user_selected__1aSrd"}},72:function(e,t,n){e.exports={commonBtn:"common_commonBtn__3Wss5",checkBox:"common_checkBox__BCKqq"}},73:function(e,t,n){e.exports={item:"ProfileInfo_item__29wpQ",block:"ProfileInfo_block__3_8SH",photo:"ProfileInfo_photo__11qFv",avatar:"ProfileInfo_avatar__2virw",description:"ProfileInfo_description__vcMX2",information:"ProfileInfo_information__2eUl7",status:"ProfileInfo_status__3kAsK"}}},[[370,1,2]]]);
//# sourceMappingURL=main.5206266e.chunk.js.map